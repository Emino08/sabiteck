/**
 * Admin Mobile Responsive Styles
 * Makes all admin pages 100% mobile-friendly
 * Reduces font sizes, converts text to icons, and optimizes layouts
 */

/* ========================================
   MOBILE FONT SIZE REDUCTIONS
   ======================================== */
@media (max-width: 768px) {
  /* Headings */
  h1, .text-3xl, .text-4xl, .text-5xl {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }
  
  h2, .text-2xl {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }
  
  h3, .text-xl {
    font-size: 1.125rem !important;
    line-height: 1.5rem !important;
  }
  
  h4, .text-lg {
    font-size: 1rem !important;
    line-height: 1.5rem !important;
  }

  /* Body text */
  p, span, div, .text-base {
    font-size: 0.875rem !important;
    line-height: 1.25rem !important;
  }
  
  .text-sm {
    font-size: 0.75rem !important;
    line-height: 1rem !important;
  }
  
  .text-xs {
    font-size: 0.625rem !important;
    line-height: 0.875rem !important;
  }

  /* Button text */
  button, .btn, .button {
    font-size: 0.875rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  /* Input fields */
  input, textarea, select {
    font-size: 0.875rem !important;
    padding: 0.5rem !important;
  }

  /* Table text */
  table th, table td {
    font-size: 0.75rem !important;
    padding: 0.5rem !important;
  }

  /* Labels */
  label {
    font-size: 0.75rem !important;
    margin-bottom: 0.25rem !important;
  }

  /* Card titles */
  .card-title, [class*="CardTitle"] {
    font-size: 1rem !important;
  }

  /* Badge text */
  .badge, [class*="Badge"] {
    font-size: 0.625rem !important;
    padding: 0.125rem 0.375rem !important;
  }
}

/* ========================================
   ICON SIZE ADJUSTMENTS
   ======================================== */
@media (max-width: 768px) {
  /* Lucide icons and SVGs */
  svg, [class*="lucide"] {
    width: 1rem !important;
    height: 1rem !important;
  }

  /* Larger icons in specific contexts */
  .icon-lg svg,
  [class*="h-6"] svg,
  [class*="h-7"] svg,
  [class*="h-8"] svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }

  /* Smaller icons for inline text */
  .icon-sm svg,
  [class*="h-4"] svg,
  [class*="h-3"] svg {
    width: 0.875rem !important;
    height: 0.875rem !important;
  }

  /* Icon buttons should maintain touch target size */
  button svg {
    width: 1.125rem !important;
    height: 1.125rem !important;
  }
}

/* ========================================
   TEXT TO ICONS CONVERSION
   ======================================== */
@media (max-width: 640px) {
  /* Hide button text, show only icons */
  .btn-icon-only .btn-text,
  .mobile-icon-only .button-text,
  .mobile-hide-text {
    display: none !important;
  }

  /* Ensure icons are visible */
  .btn-icon-only svg,
  .mobile-icon-only svg {
    margin: 0 !important;
    display: block !important;
  }

  /* Common button patterns - hide text on mobile */
  button:has(svg) span:not(.sr-only) {
    display: none;
  }

  button:has(svg) {
    padding: 0.5rem !important;
    min-width: 2.5rem !important;
  }
}

/* ========================================
   SPACING REDUCTIONS
   ======================================== */
@media (max-width: 768px) {
  /* Padding reductions */
  .p-8, .px-8, .py-8 {
    padding: 1rem !important;
  }

  .p-6, .px-6, .py-6 {
    padding: 0.75rem !important;
  }

  .p-4, .px-4, .py-4 {
    padding: 0.5rem !important;
  }

  /* Margin reductions */
  .m-8, .mx-8, .my-8 {
    margin: 1rem !important;
  }

  .m-6, .mx-6, .my-6 {
    margin: 0.75rem !important;
  }

  .m-4, .mx-4, .my-4 {
    margin: 0.5rem !important;
  }

  /* Gap reductions */
  .gap-8 {
    gap: 1rem !important;
  }

  .gap-6 {
    gap: 0.75rem !important;
  }

  .gap-4 {
    gap: 0.5rem !important;
  }

  /* Space-between reductions */
  .space-x-8 > * + * {
    margin-left: 1rem !important;
  }

  .space-x-6 > * + * {
    margin-left: 0.75rem !important;
  }

  .space-x-4 > * + * {
    margin-left: 0.5rem !important;
  }

  .space-y-8 > * + * {
    margin-top: 1rem !important;
  }

  .space-y-6 > * + * {
    margin-top: 0.75rem !important;
  }

  .space-y-4 > * + * {
    margin-top: 0.5rem !important;
  }
}

/* ========================================
   GRID & LAYOUT RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Force single column layouts */
  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4,
  [class*="lg:grid-cols"],
  [class*="md:grid-cols"] {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  /* Allow 2 columns for small items */
  .grid-responsive-mobile-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  /* Stack flex items */
  .flex-row {
    flex-direction: column !important;
  }

  /* Reverse stacking where needed */
  .mobile-flex-col-reverse {
    flex-direction: column-reverse !important;
  }
}

/* ========================================
   CARD & CONTAINER RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Card adjustments */
  .card, [class*="Card"] {
    border-radius: 0.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  /* Card headers */
  .card-header, [class*="CardHeader"] {
    padding: 0.75rem !important;
    border-radius: 0.5rem 0.5rem 0 0 !important;
  }

  /* Card content */
  .card-content, [class*="CardContent"] {
    padding: 0.75rem !important;
  }

  /* Remove large border radius */
  .rounded-2xl, .rounded-3xl {
    border-radius: 0.5rem !important;
  }

  .rounded-xl {
    border-radius: 0.375rem !important;
  }
}

/* ========================================
   TABLE RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Make tables scrollable */
  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  table {
    min-width: 600px !important;
    font-size: 0.75rem !important;
  }

  /* Hide less important columns */
  .mobile-hide-col {
    display: none !important;
  }

  /* Compact table cells */
  th, td {
    padding: 0.375rem 0.5rem !important;
    white-space: nowrap !important;
  }

  /* Stack table rows as cards on very small screens */
  @media (max-width: 480px) {
    .table-card-mobile {
      display: block !important;
    }

    .table-card-mobile thead {
      display: none !important;
    }

    .table-card-mobile tr {
      display: block !important;
      margin-bottom: 1rem !important;
      border: 1px solid #e5e7eb !important;
      border-radius: 0.5rem !important;
      padding: 0.75rem !important;
    }

    .table-card-mobile td {
      display: block !important;
      text-align: left !important;
      padding: 0.375rem 0 !important;
      border: none !important;
    }

    .table-card-mobile td::before {
      content: attr(data-label) ": " !important;
      font-weight: 600 !important;
      display: inline-block !important;
      margin-right: 0.5rem !important;
    }
  }
}

/* ========================================
   MODAL & DIALOG RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Full-screen modals on mobile */
  .modal, .dialog, [role="dialog"] {
    width: 100% !important;
    max-width: 100% !important;
    height: 100% !important;
    max-height: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }

  /* Modal content */
  .modal-content {
    max-height: 100% !important;
    overflow-y: auto !important;
  }

  /* Modal headers */
  .modal-header {
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
    background: white !important;
    border-bottom: 1px solid #e5e7eb !important;
    padding: 1rem !important;
  }

  /* Modal footers */
  .modal-footer {
    position: sticky !important;
    bottom: 0 !important;
    z-index: 10 !important;
    background: white !important;
    border-top: 1px solid #e5e7eb !important;
    padding: 1rem !important;
  }
}

/* ========================================
   FORM RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Stack form columns */
  .form-row,
  .grid-cols-2,
  .grid-cols-3 {
    grid-template-columns: 1fr !important;
  }

  /* Input sizing */
  input, textarea, select {
    width: 100% !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
  }

  /* Label adjustments */
  label {
    display: block !important;
    margin-bottom: 0.25rem !important;
  }

  /* Form buttons stack */
  .form-actions {
    display: flex !important;
    flex-direction: column-reverse !important;
    gap: 0.5rem !important;
  }

  .form-actions button {
    width: 100% !important;
  }
}

/* ========================================
   STATS & METRICS RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Stats cards */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
  }

  .stat-card {
    padding: 0.75rem !important;
  }

  .stat-value {
    font-size: 1.25rem !important;
  }

  .stat-label {
    font-size: 0.625rem !important;
  }
}

/* ========================================
   SEARCH & FILTER RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Search bar */
  .search-bar {
    width: 100% !important;
    margin-bottom: 0.5rem !important;
  }

  /* Filter buttons */
  .filter-group {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.375rem !important;
  }

  .filter-button {
    font-size: 0.75rem !important;
    padding: 0.375rem 0.625rem !important;
  }

  /* Dropdown filters */
  .filter-dropdown {
    width: 100% !important;
    margin-bottom: 0.5rem !important;
  }
}

/* ========================================
   ACTION BUTTONS RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Floating action buttons */
  .action-buttons {
    position: fixed !important;
    bottom: 1rem !important;
    right: 1rem !important;
    z-index: 40 !important;
  }

  /* Compact action button group */
  .action-group {
    display: flex !important;
    gap: 0.5rem !important;
    flex-wrap: wrap !important;
  }

  /* Icon-only action buttons */
  .action-btn {
    min-width: 2.5rem !important;
    min-height: 2.5rem !important;
    padding: 0.5rem !important;
    border-radius: 9999px !important;
  }

  .action-btn span:not(.sr-only) {
    display: none !important;
  }
}

/* ========================================
   NAVIGATION TABS RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Tab container */
  .tabs-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: none !important;
  }

  .tabs-container::-webkit-scrollbar {
    display: none !important;
  }

  /* Tab buttons */
  .tab-button {
    font-size: 0.75rem !important;
    padding: 0.5rem 0.75rem !important;
    white-space: nowrap !important;
  }

  /* Tab icons only on very small screens */
  @media (max-width: 480px) {
    .tab-button span:not(.sr-only) {
      display: none !important;
    }
    
    .tab-button svg {
      margin: 0 !important;
    }
  }
}

/* ========================================
   PAGINATION RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Compact pagination */
  .pagination {
    font-size: 0.75rem !important;
    gap: 0.25rem !important;
  }

  .pagination-button {
    min-width: 2rem !important;
    min-height: 2rem !important;
    padding: 0.25rem !important;
  }

  /* Hide page numbers, show only prev/next */
  .pagination-numbers {
    display: none !important;
  }

  .pagination-nav {
    display: flex !important;
  }
}

/* ========================================
   BREADCRUMBS RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Compact breadcrumbs */
  .breadcrumb {
    font-size: 0.75rem !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
  }

  /* Hide middle items, show only first and last */
  .breadcrumb-item:not(:first-child):not(:last-child) {
    display: none !important;
  }
}

/* ========================================
   TOOLTIP & POPOVER RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Disable tooltips on mobile (use native touch feedback) */
  .tooltip {
    display: none !important;
  }

  /* Make popovers full-width */
  .popover {
    width: calc(100% - 2rem) !important;
    max-width: calc(100% - 2rem) !important;
  }
}

/* ========================================
   SIDEBAR RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Hide sidebar by default */
  .sidebar {
    position: fixed !important;
    left: -100% !important;
    transition: left 0.3s ease !important;
    z-index: 50 !important;
  }

  .sidebar.open {
    left: 0 !important;
  }

  /* Overlay when sidebar is open */
  .sidebar-overlay {
    position: fixed !important;
    inset: 0 !important;
    background: rgba(0, 0, 0, 0.5) !important;
    z-index: 40 !important;
  }
}

/* ========================================
   HEADER RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Compact header */
  .admin-header {
    padding: 0.75rem 1rem !important;
  }

  .admin-header h1 {
    font-size: 1.125rem !important;
  }

  /* Header actions */
  .header-actions {
    gap: 0.5rem !important;
  }

  .header-actions button {
    padding: 0.5rem !important;
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */
@media (max-width: 768px) {
  /* Display utilities */
  .mobile-hidden {
    display: none !important;
  }

  .mobile-visible {
    display: block !important;
  }

  /* Text alignment */
  .mobile-text-center {
    text-align: center !important;
  }

  /* Width utilities */
  .mobile-full-width {
    width: 100% !important;
  }

  /* Touch-friendly targets */
  .touch-target {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* ========================================
   OVERFLOW & SCROLL HANDLING
   ======================================== */
@media (max-width: 768px) {
  /* Horizontal scroll for wide content */
  .overflow-x-auto {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Hide scrollbars but keep functionality */
  .scrollbar-hide {
    -ms-overflow-scrolling: none !important;
    scrollbar-width: none !important;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none !important;
  }
}

/* ========================================
   SAFE AREAS FOR NOTCHED DEVICES
   ======================================== */
@supports (padding: env(safe-area-inset-top)) {
  .safe-top {
    padding-top: env(safe-area-inset-top) !important;
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom) !important;
  }

  .safe-left {
    padding-left: env(safe-area-inset-left) !important;
  }

  .safe-right {
    padding-right: env(safe-area-inset-right) !important;
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */
@media (max-width: 768px) {
  /* Screen reader only */
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border-width: 0 !important;
  }

  /* Focus visible for keyboard navigation */
  *:focus-visible {
    outline: 2px solid #3b82f6 !important;
    outline-offset: 2px !important;
  }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */
@media (max-width: 768px) {
  /* Reduce motion for better performance */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* GPU acceleration for smooth scrolling */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch !important;
    transform: translateZ(0) !important;
  }
}
